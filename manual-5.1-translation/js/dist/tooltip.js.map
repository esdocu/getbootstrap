{"version":3,"file":"tooltip.js","sources":["../src/tooltip.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.1.3): tooltip.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport * as Popper from '@popperjs/core'\nimport {\n  defineJQueryPlugin,\n  findShadowRoot,\n  getElement,\n  getUID,\n  isRTL,\n  noop\n} from './util/index'\nimport { DefaultAllowlist } from './util/sanitizer'\nimport EventHandler from './dom/event-handler'\nimport Manipulator from './dom/manipulator'\nimport BaseComponent from './base-component'\nimport TemplateFactory from './util/template-factory'\n\n/**\n * Constants\n */\n\nconst NAME = 'tooltip'\nconst DATA_KEY = 'bs.tooltip'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst DISALLOWED_ATTRIBUTES = new Set(['sanitize', 'allowList', 'sanitizeFn'])\n\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_MODAL = 'modal'\nconst CLASS_NAME_SHOW = 'show'\n\nconst SELECTOR_TOOLTIP_INNER = '.tooltip-inner'\nconst SELECTOR_MODAL = `.${CLASS_NAME_MODAL}`\n\nconst EVENT_MODAL_HIDE = 'hide.bs.modal'\n\nconst TRIGGER_HOVER = 'hover'\nconst TRIGGER_FOCUS = 'focus'\nconst TRIGGER_CLICK = 'click'\nconst TRIGGER_MANUAL = 'manual'\n\nconst AttachmentMap = {\n  AUTO: 'auto',\n  TOP: 'top',\n  RIGHT: isRTL() ? 'left' : 'right',\n  BOTTOM: 'bottom',\n  LEFT: isRTL() ? 'right' : 'left'\n}\n\nconst Default = {\n  animation: true,\n  template: '<div class=\"tooltip\" role=\"tooltip\">' +\n              '<div class=\"tooltip-arrow\"></div>' +\n              '<div class=\"tooltip-inner\"></div>' +\n            '</div>',\n  trigger: 'hover focus',\n  title: '',\n  delay: 0,\n  html: false,\n  selector: false,\n  placement: 'top',\n  offset: [0, 0],\n  container: false,\n  fallbackPlacements: ['top', 'right', 'bottom', 'left'],\n  boundary: 'clippingParents',\n  customClass: '',\n  sanitize: true,\n  sanitizeFn: null,\n  allowList: DefaultAllowlist,\n  popperConfig: null\n}\n\nconst DefaultType = {\n  animation: 'boolean',\n  template: 'string',\n  title: '(string|element|function)',\n  trigger: 'string',\n  delay: '(number|object)',\n  html: 'boolean',\n  selector: '(string|boolean)',\n  placement: '(string|function)',\n  offset: '(array|string|function)',\n  container: '(string|element|boolean)',\n  fallbackPlacements: 'array',\n  boundary: '(string|element)',\n  customClass: '(string|function)',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  allowList: 'object',\n  popperConfig: '(null|object|function)'\n}\n\nconst Event = {\n  HIDE: `hide${EVENT_KEY}`,\n  HIDDEN: `hidden${EVENT_KEY}`,\n  SHOW: `show${EVENT_KEY}`,\n  SHOWN: `shown${EVENT_KEY}`,\n  INSERTED: `inserted${EVENT_KEY}`,\n  CLICK: `click${EVENT_KEY}`,\n  FOCUSIN: `focusin${EVENT_KEY}`,\n  FOCUSOUT: `focusout${EVENT_KEY}`,\n  MOUSEENTER: `mouseenter${EVENT_KEY}`,\n  MOUSELEAVE: `mouseleave${EVENT_KEY}`\n}\n\n/**\n * Class definition\n */\n\nclass Tooltip extends BaseComponent {\n  constructor(element, config) {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s tooltips require Popper (https://popper.js.org)')\n    }\n\n    super(element, config)\n\n    // Private\n    this._isEnabled = true\n    this._timeout = 0\n    this._isHovered = false\n    this._activeTrigger = {}\n    this._popper = null\n    this._templateFactory = null\n\n    // Protected\n    this.tip = null\n\n    this._setListeners()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  static get Event() {\n    return Event\n  }\n\n  // Public\n  enable() {\n    this._isEnabled = true\n  }\n\n  disable() {\n    this._isEnabled = false\n  }\n\n  toggleEnabled() {\n    this._isEnabled = !this._isEnabled\n  }\n\n  toggle(event) {\n    if (!this._isEnabled) {\n      return\n    }\n\n    if (event) {\n      const context = this._initializeOnDelegatedTarget(event)\n\n      context._activeTrigger.click = !context._activeTrigger.click\n\n      if (context._isWithActiveTrigger()) {\n        context._enter()\n      } else {\n        context._leave()\n      }\n    } else {\n      if (this._getTipElement().classList.contains(CLASS_NAME_SHOW)) {\n        this._leave()\n        return\n      }\n\n      this._enter()\n    }\n  }\n\n  dispose() {\n    clearTimeout(this._timeout)\n\n    EventHandler.off(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler)\n\n    if (this.tip) {\n      this.tip.remove()\n    }\n\n    this._disposePopper()\n    super.dispose()\n  }\n\n  show() {\n    if (this._element.style.display === 'none') {\n      throw new Error('Please use show on visible elements')\n    }\n\n    if (!(this._isWithContent() && this._isEnabled)) {\n      return\n    }\n\n    const showEvent = EventHandler.trigger(this._element, this.constructor.Event.SHOW)\n    const shadowRoot = findShadowRoot(this._element)\n    const isInTheDom = shadowRoot === null ?\n      this._element.ownerDocument.documentElement.contains(this._element) :\n      shadowRoot.contains(this._element)\n\n    if (showEvent.defaultPrevented || !isInTheDom) {\n      return\n    }\n\n    const tip = this._getTipElement()\n\n    this._element.setAttribute('aria-describedby', tip.getAttribute('id'))\n\n    const { container } = this._config\n\n    if (!this._element.ownerDocument.documentElement.contains(this.tip)) {\n      container.append(tip)\n      EventHandler.trigger(this._element, this.constructor.Event.INSERTED)\n    }\n\n    if (this._popper) {\n      this._popper.update()\n    } else {\n      const placement = typeof this._config.placement === 'function' ?\n        this._config.placement.call(this, tip, this._element) :\n        this._config.placement\n      const attachment = AttachmentMap[placement.toUpperCase()]\n      this._popper = Popper.createPopper(this._element, tip, this._getPopperConfig(attachment))\n    }\n\n    tip.classList.add(CLASS_NAME_SHOW)\n\n    // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop)\n      }\n    }\n\n    const complete = () => {\n      const prevHoverState = this._isHovered\n\n      this._isHovered = false\n      EventHandler.trigger(this._element, this.constructor.Event.SHOWN)\n\n      if (prevHoverState) {\n        this._leave()\n      }\n    }\n\n    this._queueCallback(complete, this.tip, this._isAnimated())\n  }\n\n  hide() {\n    if (!this._popper) {\n      return\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, this.constructor.Event.HIDE)\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    const tip = this._getTipElement()\n    tip.classList.remove(CLASS_NAME_SHOW)\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop)\n      }\n    }\n\n    this._activeTrigger[TRIGGER_CLICK] = false\n    this._activeTrigger[TRIGGER_FOCUS] = false\n    this._activeTrigger[TRIGGER_HOVER] = false\n\n    const complete = () => {\n      if (this._isWithActiveTrigger()) {\n        return\n      }\n\n      if (!this._isHovered) {\n        tip.remove()\n      }\n\n      this._element.removeAttribute('aria-describedby')\n      EventHandler.trigger(this._element, this.constructor.Event.HIDDEN)\n\n      this._disposePopper()\n    }\n\n    this._queueCallback(complete, this.tip, this._isAnimated())\n    this._isHovered = false\n  }\n\n  update() {\n    if (this._popper) {\n      this._popper.update()\n    }\n  }\n\n  // Protected\n  _isWithContent() {\n    return Boolean(this._getTitle())\n  }\n\n  _getTipElement() {\n    if (!this.tip) {\n      this.tip = this._createTipElement(this._getContentForTemplate())\n    }\n\n    return this.tip\n  }\n\n  _createTipElement(content) {\n    const tip = this._getTemplateFactory(content).toHtml()\n\n    // todo: remove this check on v6\n    if (!tip) {\n      return null\n    }\n\n    tip.classList.remove(CLASS_NAME_FADE, CLASS_NAME_SHOW)\n    // todo: on v6 the following can be achieved with CSS only\n    tip.classList.add(`bs-${this.constructor.NAME}-auto`)\n\n    const tipId = getUID(this.constructor.NAME).toString()\n\n    tip.setAttribute('id', tipId)\n\n    if (this._isAnimated()) {\n      tip.classList.add(CLASS_NAME_FADE)\n    }\n\n    return tip\n  }\n\n  setContent(content) {\n    let isShown = false\n    if (this.tip) {\n      isShown = this.tip.classList.contains(CLASS_NAME_SHOW)\n      this.tip.remove()\n      this.tip = null\n    }\n\n    this._disposePopper()\n    this.tip = this._createTipElement(content)\n\n    if (isShown) {\n      this.show()\n    }\n  }\n\n  _getTemplateFactory(content) {\n    if (this._templateFactory) {\n      this._templateFactory.changeContent(content)\n    } else {\n      this._templateFactory = new TemplateFactory({\n        ...this._config,\n        // the `content` var has to be after `this._config`\n        // to override config.content in case of popover\n        content,\n        extraClass: this._resolvePossibleFunction(this._config.customClass)\n      })\n    }\n\n    return this._templateFactory\n  }\n\n  _getContentForTemplate() {\n    return {\n      [SELECTOR_TOOLTIP_INNER]: this._getTitle()\n    }\n  }\n\n  _getTitle() {\n    return this._config.title\n  }\n\n  // Private\n  _initializeOnDelegatedTarget(event) {\n    return this.constructor.getOrCreateInstance(event.delegateTarget, this._getDelegateConfig())\n  }\n\n  _isAnimated() {\n    return this._config.animation || (this.tip && this.tip.classList.contains(CLASS_NAME_FADE))\n  }\n\n  _getOffset() {\n    const { offset } = this._config\n\n    if (typeof offset === 'string') {\n      return offset.split(',').map(val => Number.parseInt(val, 10))\n    }\n\n    if (typeof offset === 'function') {\n      return popperData => offset(popperData, this._element)\n    }\n\n    return offset\n  }\n\n  _resolvePossibleFunction(arg) {\n    return typeof arg === 'function' ? arg.call(this._element) : arg\n  }\n\n  _getPopperConfig(attachment) {\n    const defaultBsPopperConfig = {\n      placement: attachment,\n      modifiers: [\n        {\n          name: 'flip',\n          options: {\n            fallbackPlacements: this._config.fallbackPlacements\n          }\n        },\n        {\n          name: 'offset',\n          options: {\n            offset: this._getOffset()\n          }\n        },\n        {\n          name: 'preventOverflow',\n          options: {\n            boundary: this._config.boundary\n          }\n        },\n        {\n          name: 'arrow',\n          options: {\n            element: `.${this.constructor.NAME}-arrow`\n          }\n        },\n        {\n          name: 'preSetPlacement',\n          enabled: true,\n          phase: 'beforeMain',\n          fn: data => {\n            // Pre-set Popper's placement attribute in order to read the arrow sizes properly.\n            // Otherwise, Popper mixes up the width and height dimensions since the initial arrow style is for top placement\n            this._getTipElement().setAttribute('data-popper-placement', data.state.placement)\n          }\n        }\n      ]\n    }\n\n    return {\n      ...defaultBsPopperConfig,\n      ...(typeof this._config.popperConfig === 'function' ? this._config.popperConfig(defaultBsPopperConfig) : this._config.popperConfig)\n    }\n  }\n\n  _setListeners() {\n    const triggers = this._config.trigger.split(' ')\n\n    for (const trigger of triggers) {\n      if (trigger === 'click') {\n        EventHandler.on(this._element, this.constructor.Event.CLICK, this._config.selector, event => this.toggle(event))\n      } else if (trigger !== TRIGGER_MANUAL) {\n        const eventIn = trigger === TRIGGER_HOVER ?\n          this.constructor.Event.MOUSEENTER :\n          this.constructor.Event.FOCUSIN\n        const eventOut = trigger === TRIGGER_HOVER ?\n          this.constructor.Event.MOUSELEAVE :\n          this.constructor.Event.FOCUSOUT\n\n        EventHandler.on(this._element, eventIn, this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event)\n          context._activeTrigger[event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER] = true\n          context._enter()\n        })\n        EventHandler.on(this._element, eventOut, this._config.selector, event => {\n          const context = this._initializeOnDelegatedTarget(event)\n          context._activeTrigger[event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER] =\n            context._element.contains(event.relatedTarget)\n\n          context._leave()\n        })\n      }\n    }\n\n    this._hideModalHandler = () => {\n      if (this._element) {\n        this.hide()\n      }\n    }\n\n    EventHandler.on(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler)\n\n    if (this._config.selector) {\n      this._config = {\n        ...this._config,\n        trigger: 'manual',\n        selector: ''\n      }\n    } else {\n      this._fixTitle()\n    }\n  }\n\n  _fixTitle() {\n    const title = this._config.originalTitle\n\n    if (!title) {\n      return\n    }\n\n    if (!this._element.getAttribute('aria-label') && !this._element.textContent) {\n      this._element.setAttribute('aria-label', title)\n    }\n\n    this._element.removeAttribute('title')\n  }\n\n  _enter() {\n    if (this._getTipElement().classList.contains(CLASS_NAME_SHOW) || this._isHovered) {\n      this._isHovered = true\n      return\n    }\n\n    this._isHovered = true\n\n    this._setTimeout(() => {\n      if (this._isHovered) {\n        this.show()\n      }\n    }, this._config.delay.show)\n  }\n\n  _leave() {\n    if (this._isWithActiveTrigger()) {\n      return\n    }\n\n    this._isHovered = false\n\n    this._setTimeout(() => {\n      if (!this._isHovered) {\n        this.hide()\n      }\n    }, this._config.delay.hide)\n  }\n\n  _setTimeout(handler, timeout) {\n    clearTimeout(this._timeout)\n    this._timeout = setTimeout(handler, timeout)\n  }\n\n  _isWithActiveTrigger() {\n    return Object.values(this._activeTrigger).includes(true)\n  }\n\n  _getConfig(config) {\n    const dataAttributes = Manipulator.getDataAttributes(this._element)\n\n    for (const dataAttr of Object.keys(dataAttributes)) {\n      if (DISALLOWED_ATTRIBUTES.has(dataAttr)) {\n        delete dataAttributes[dataAttr]\n      }\n    }\n\n    config = {\n      ...dataAttributes,\n      ...(typeof config === 'object' && config ? config : {})\n    }\n    config = this._mergeConfigObj(config)\n    config = this._configAfterMerge(config)\n    this._typeCheckConfig(config)\n    return config\n  }\n\n  _configAfterMerge(config) {\n    config.container = config.container === false ? document.body : getElement(config.container)\n\n    if (typeof config.delay === 'number') {\n      config.delay = {\n        show: config.delay,\n        hide: config.delay\n      }\n    }\n\n    config.originalTitle = this._element.getAttribute('title') || ''\n    config.title = this._resolvePossibleFunction(config.title) || config.originalTitle\n    if (typeof config.title === 'number') {\n      config.title = config.title.toString()\n    }\n\n    if (typeof config.content === 'number') {\n      config.content = config.content.toString()\n    }\n\n    return config\n  }\n\n  _getDelegateConfig() {\n    const config = {}\n\n    for (const key in this._config) {\n      if (this.constructor.Default[key] !== this._config[key]) {\n        config[key] = this._config[key]\n      }\n    }\n\n    // In the future can be replaced with:\n    // const keysWithDifferentValues = Object.entries(this._config).filter(entry => this.constructor.Default[entry[0]] !== this._config[entry[0]])\n    // `Object.fromEntries(keysWithDifferentValues)`\n    return config\n  }\n\n  _disposePopper() {\n    if (this._popper) {\n      this._popper.destroy()\n      this._popper = null\n    }\n  }\n\n  // Static\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tooltip.getOrCreateInstance(this, config)\n\n      if (typeof config !== 'string') {\n        return\n      }\n\n      if (typeof data[config] === 'undefined') {\n        throw new TypeError(`No method named \"${config}\"`)\n      }\n\n      data[config]()\n    })\n  }\n}\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Tooltip)\n\nexport default Tooltip\n"],"names":["NAME","DATA_KEY","EVENT_KEY","DISALLOWED_ATTRIBUTES","Set","CLASS_NAME_FADE","CLASS_NAME_MODAL","CLASS_NAME_SHOW","SELECTOR_TOOLTIP_INNER","SELECTOR_MODAL","EVENT_MODAL_HIDE","TRIGGER_HOVER","TRIGGER_FOCUS","TRIGGER_CLICK","TRIGGER_MANUAL","AttachmentMap","AUTO","TOP","RIGHT","isRTL","BOTTOM","LEFT","Default","animation","template","trigger","title","delay","html","selector","placement","offset","container","fallbackPlacements","boundary","customClass","sanitize","sanitizeFn","allowList","DefaultAllowlist","popperConfig","DefaultType","Event","HIDE","HIDDEN","SHOW","SHOWN","INSERTED","CLICK","FOCUSIN","FOCUSOUT","MOUSEENTER","MOUSELEAVE","Tooltip","BaseComponent","constructor","element","config","Popper","TypeError","_isEnabled","_timeout","_isHovered","_activeTrigger","_popper","_templateFactory","tip","_setListeners","enable","disable","toggleEnabled","toggle","event","context","_initializeOnDelegatedTarget","click","_isWithActiveTrigger","_enter","_leave","_getTipElement","classList","contains","dispose","clearTimeout","EventHandler","off","_element","closest","_hideModalHandler","remove","_disposePopper","show","style","display","Error","_isWithContent","showEvent","shadowRoot","findShadowRoot","isInTheDom","ownerDocument","documentElement","defaultPrevented","setAttribute","getAttribute","_config","append","update","call","attachment","toUpperCase","createPopper","_getPopperConfig","add","document","concat","body","children","on","noop","complete","prevHoverState","_queueCallback","_isAnimated","hide","hideEvent","removeAttribute","Boolean","_getTitle","_createTipElement","_getContentForTemplate","content","_getTemplateFactory","toHtml","tipId","getUID","toString","setContent","isShown","changeContent","TemplateFactory","extraClass","_resolvePossibleFunction","getOrCreateInstance","delegateTarget","_getDelegateConfig","_getOffset","split","map","val","Number","parseInt","popperData","arg","defaultBsPopperConfig","modifiers","name","options","enabled","phase","fn","data","state","triggers","eventIn","eventOut","type","relatedTarget","_fixTitle","originalTitle","textContent","_setTimeout","handler","timeout","setTimeout","Object","values","includes","_getConfig","dataAttributes","Manipulator","getDataAttributes","dataAttr","keys","has","_mergeConfigObj","_configAfterMerge","_typeCheckConfig","getElement","key","destroy","jQueryInterface","each","defineJQueryPlugin"],"mappings":"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"}